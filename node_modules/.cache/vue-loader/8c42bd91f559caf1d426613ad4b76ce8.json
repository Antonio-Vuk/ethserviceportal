{"remainingRequest":"/Users/VUK/Desktop/ethserviceportal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/VUK/Desktop/ethserviceportal/src/components/Service/CreateService.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/VUK/Desktop/ethserviceportal/src/components/Service/CreateService.vue","mtime":1561539595000},{"path":"/Users/VUK/Desktop/ethserviceportal/node_modules/vuetify-loader/lib/loader.js","mtime":499162500000},{"path":"/Users/VUK/Desktop/ethserviceportal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/VUK/Desktop/ethserviceportal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data(){\n        return {\n            title: '',\n            imageUrl: '',\n            description: '',\n            image: null,\n            filePicked: false,\n            price: '',\n            phone: '',\n            location: '',\n        }\n    },\n    computed: {\n        formIsValid(){\n            return this.title !== '' \n            && this.imageUrl !== '' \n            && this.description !== ''\n            && this.price !== ''\n            && this.phone !== ''\n            && this.location !== ''\n        }\n    },\n    methods: {\n        onCreateService(){\n            if(!this.formIsValid){\n                return\n            }\n            if(!this.image){\n                return\n            }\n            const serviceData = {\n                title: this.title,\n                image: this.image,\n                description: this.description,\n                date: new Date(),\n                price: this.price,\n                phone: this.phone,\n                location: this.location\n            }\n            this.$store.dispatch('createService', serviceData)\n            this.$router.push('/services')\n        },\n        onPickFile(){\n            this.$refs.fileInput.click()\n        },\n        onFilePicked(event){\n            const files = event.target.files\n            let filename = files[0].name\n            if(filename.lastIndexOf('.') <= 0){\n                return alert('Please add a valid file!')\n                this.filePicked = false\n                return\n            }else{\n                this.filePicked = true\n            }\n            const fileReader = new FileReader()\n\n            fileReader.addEventListener('load', () => {\n                this.imageUrl = fileReader.result\n            })\n\n            fileReader.readAsDataURL(files[0])\n            this.image = files[0]\n        }\n    }\n}\n",{"version":3,"sources":["CreateService.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"CreateService.vue","sourceRoot":"src/components/Service","sourcesContent":["<template>\n    <v-container>\n        <v-layout row>\n            <v-flex xs12 sm8 offset-sm2>\n                <h1>Add new service</h1>\n            </v-flex>\n        </v-layout>\n        <v-layout row>\n            <v-flex xs12>\n                <form @submit.prevent=\"onCreateService\">\n                    <v-layout row>\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-text-field\n                            v-model=\"title\"\n                            id=\"title\"\n                            label=\"Title\"\n                            required\n                            name=\"title\">  \n                            </v-text-field>\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row>\n                        <v-flex xs12 sm8 offset-sm2>\n                                <v-text-field\n                                v-model=\"price\"\n                                precision=\"2\"\n                                step=\"0.01\"\n                                id=\"price\"\n                                type=\"number\"\n                                label=\"Price\"\n                                required\n                                name=\"price\">  \n                                </v-text-field>\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row>\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-btn raised class=\"primary\" @click=\"onPickFile\">Upload Image</v-btn>\n                            <input \n                            type=\"file\" \n                            style=\"display:none\" \n                            ref=\"fileInput\" \n                            @change=\"onFilePicked\"\n                            accept=\"image/*\">\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row v-if=\"filePicked\">\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-img\n                            height=\"300\"\n                            :src=\"imageUrl\">\n                            </v-img>\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row>\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-textarea\n                            v-model=\"description\"\n                            id=\"description\"\n                            label=\"Description\"\n                            required\n                            name=\"description\">  \n                            </v-textarea>\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row >\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-text-field\n                                v-model=\"phone\"\n                                type=\"phone\"\n                                name=\"phone\"\n                                label=\"Phone\"\n                                id=\"phone\"\n                                required>\n                            </v-text-field>\n                        </v-flex>\n                    </v-layout>\n\n                    <v-layout row >\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-text-field\n                                v-model=\"location\"\n                                name=\"location\"\n                                label=\"Location\"\n                                id=\"location\"\n                                required>\n                            </v-text-field>\n                        </v-flex>\n                    </v-layout>\n                    <v-layout row>\n                        <v-flex xs12 sm8 offset-sm2>\n                            <v-btn \n                            class=\"primary\"\n                            type=\"submit\" \n                            :disabled=\"!formIsValid\">\n                            Create service\n                            </v-btn>\n                        </v-flex>\n                    </v-layout>\n                </form>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n<script>\nexport default {\n    data(){\n        return {\n            title: '',\n            imageUrl: '',\n            description: '',\n            image: null,\n            filePicked: false,\n            price: '',\n            phone: '',\n            location: '',\n        }\n    },\n    computed: {\n        formIsValid(){\n            return this.title !== '' \n            && this.imageUrl !== '' \n            && this.description !== ''\n            && this.price !== ''\n            && this.phone !== ''\n            && this.location !== ''\n        }\n    },\n    methods: {\n        onCreateService(){\n            if(!this.formIsValid){\n                return\n            }\n            if(!this.image){\n                return\n            }\n            const serviceData = {\n                title: this.title,\n                image: this.image,\n                description: this.description,\n                date: new Date(),\n                price: this.price,\n                phone: this.phone,\n                location: this.location\n            }\n            this.$store.dispatch('createService', serviceData)\n            this.$router.push('/services')\n        },\n        onPickFile(){\n            this.$refs.fileInput.click()\n        },\n        onFilePicked(event){\n            const files = event.target.files\n            let filename = files[0].name\n            if(filename.lastIndexOf('.') <= 0){\n                return alert('Please add a valid file!')\n                this.filePicked = false\n                return\n            }else{\n                this.filePicked = true\n            }\n            const fileReader = new FileReader()\n\n            fileReader.addEventListener('load', () => {\n                this.imageUrl = fileReader.result\n            })\n\n            fileReader.readAsDataURL(files[0])\n            this.image = files[0]\n        }\n    }\n}\n</script>"]}]}